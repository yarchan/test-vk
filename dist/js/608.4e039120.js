"use strict";(self["webpackChunktest_vk"]=self["webpackChunktest_vk"]||[]).push([[608],{6608:function(e,s,i){i.r(s),i.d(s,{default:function(){return z}});i(7658);var n=i(3396),t=i(9242),r=i(7139);const l={class:""},d={key:0,class:"get-friends"},o={class:"mb-4"},a={class:"mb-4"},c={class:"mb-4"},f={key:0,class:"get-friends-items"},_={class:"d-flex justify-content-center align-items-center"},u=["src"],g={class:"mb-0 me-2"},p={class:"mb-0"},m={class:"d-flex justify-content-center align-items-center"},w=["onClick"],k=["onClick"];function h(e,s,i,h,b,v){const y=(0,n.up)("ListFriends");return(0,n.wg)(),(0,n.iD)("div",l,[h.get_friend?((0,n.wg)(),(0,n.iD)("div",d,[(0,n._)("div",o,[(0,n._)("button",{onClick:s[0]||(s[0]=(...e)=>v.getFriend&&v.getFriend(...e)),class:"btn btn-primary"},"Загрузите список друзей")]),(0,n._)("div",a,[(0,n._)("button",{onClick:s[1]||(s[1]=e=>(v.buildNewListFriends,this.$router.push("/friend-info"))),class:"btn btn-primary"},"Построить")]),(0,n._)("div",c,[(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>h.select_friends=e),onInput:s[3]||(s[3]=(...e)=>v.newFriends&&v.newFriends(...e)),class:"form-control",placeholder:"Начните вводить текст для поиска друга, которого хотите добавить",type:"text",name:"",id:""},null,544),[[t.nr,h.select_friends]])]),0!=h.new_friends.length?((0,n.wg)(),(0,n.iD)("ul",f,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(h.new_friends,((e,s)=>((0,n.wg)(),(0,n.iD)("li",{class:"get-friends-link",key:s},[(0,n._)("div",_,[(0,n._)("img",{class:"get-friends-link-img",src:e.photo_50,alt:""},null,8,u),(0,n._)("p",g,(0,r.zw)(e.first_name),1),(0,n._)("p",p,(0,r.zw)(e.last_name),1)]),(0,n._)("div",m,[(0,n._)("button",{onClick:s=>e.isAdd=!0,class:"btn btn1"},"Добавить",8,w),e.isAdd?((0,n.wg)(),(0,n.iD)("button",{key:0,onClick:s=>e.isAdd=!1,class:"btn btn2"},"Удалить",8,k)):(0,n.kq)("",!0)])])))),128))])):(0,n.kq)("",!0)])):(0,n.kq)("",!0),h.get_friend?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(y,{key:1,list_friends:e.new_list_friends,onGet_friend:s[4]||(s[4]=e=>h.get_friend=e)},null,8,["list_friends"]))])}var b=i(4870);const v={class:"d-flex justify-content-center align-items-center"},y={class:"get-friends-items"},C=["onClick"],F={class:"d-flex justify-content-center align-items-center"},D=["src"],A={class:"mb-0 me-2"},H={class:"mb-0"};function L(e,s,i,t,l,d){return(0,n.wg)(),(0,n.iD)("div",v,[(0,n._)("button",{onClick:s[0]||(s[0]=(...e)=>d.goBack&&d.goBack(...e)),class:"btn-list btn btn-primary"},"Назад"),(0,n._)("ul",y,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.list_friends,((e,s)=>((0,n.wg)(),(0,n.iD)("li",{onClick:s=>d.openVkFriend(e.id),class:"get-friends-link",key:s},[(0,n._)("div",F,[(0,n._)("img",{class:"get-friends-link-img",src:e.photo_50,alt:""},null,8,D),(0,n._)("p",A,(0,r.zw)(e.first_name),1),(0,n._)("p",H,(0,r.zw)(e.last_name),1)])],8,C)))),128))])])}var I={props:{list_friends:Array},data(){return{list_friend:this.list_friends}},mounted(){console.log(this.list_friends)},methods:{async getGeneralFriend(){self=this,await VK.Api.call("friends.get",{user_ids:6492,fields:"photo_50",v:this.v},(function(e){e.response&&(self.friends=e.response.items,self.new_friends=e.response.items,localStorage.setItem("r",e.response))}))},async openVkFriend(){await this.$router.push("/friend-info")},goBack(){this.$emit("get_friend",!0)}}},V=i(89);const j=(0,V.Z)(I,[["render",L]]);var x=j,K={components:{ListFriends:x},setup(){return{AppID:"51773806",v:"5.154",friends:(0,b.iH)([]),new_friends:(0,b.iH)([]),select_friends:(0,b.iH)(""),new_list_friend:(0,b.iH)([]),get_friend:(0,b.iH)(!0)}},beforeMount(){this.init()},methods:{buildNewListFriends(){this.new_list_friends=this.new_friends.filter((e=>!0===e.isAdd?e:"")),console.log(this.new_list_friends),this.get_friend=!1},newFriends(){const e=this.select_friends.toLowerCase();this.new_friends=this.friends.filter((s=>{const i=s.first_name.toLowerCase(),n=s.last_name.toLowerCase();return s?i.startsWith(e)||n.startsWith(e):""}))},async init(){await VK.init({apiId:this.AppID})},async getFriend(){self=this,await VK.Api.call("friends.get",{user_ids:6492,fields:"photo_50",v:this.v},(function(e){e.response&&(self.friends=e.response.items,self.new_friends=e.response.items,localStorage.setItem("r",e.response))}))}}};const q=(0,V.Z)(K,[["render",h]]);var z=q}}]);
//# sourceMappingURL=608.4e039120.js.map