"use strict";(self["webpackChunktest_vk"]=self["webpackChunktest_vk"]||[]).push([[411,612],{2612:function(e,s,n){n.r(s),n.d(s,{default:function(){return z}});var i=n(3396),t=n(9242),r=n(7139);const l={class:""},d={key:0,class:"get-friends"},o={class:"mb-4"},c={class:"mb-4"},a={class:"mb-4"},f={key:0,class:"get-friends-items"},_={class:"d-flex justify-content-center align-items-center"},u=["src"],g={class:"mb-0 me-2"},m={class:"mb-0"},p={class:"d-flex justify-content-center align-items-center"},w=["onClick"],k=["onClick"];function h(e,s,n,h,b,v){const y=(0,i.up)("ListFriends");return(0,i.wg)(),(0,i.iD)("div",l,[h.get_friend?((0,i.wg)(),(0,i.iD)("div",d,[(0,i._)("div",o,[(0,i._)("button",{onClick:s[0]||(s[0]=(...e)=>v.getFriend&&v.getFriend(...e)),class:"btn btn-primary"},"Загрузите список друзей")]),(0,i._)("div",c,[(0,i._)("button",{onClick:s[1]||(s[1]=(...e)=>v.buildNewListFriends&&v.buildNewListFriends(...e)),class:"btn btn-primary"},"Построить")]),(0,i._)("div",a,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":s[2]||(s[2]=e=>h.select_friends=e),onInput:s[3]||(s[3]=(...e)=>v.newFriends&&v.newFriends(...e)),class:"form-control",placeholder:"Начните вводить текст для поиска друга, которого хотите добавить",type:"text",name:"",id:""},null,544),[[t.nr,h.select_friends]])]),0!=h.new_friends.length?((0,i.wg)(),(0,i.iD)("ul",f,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(h.new_friends,((e,s)=>((0,i.wg)(),(0,i.iD)("li",{class:"get-friends-link",key:s},[(0,i._)("div",_,[(0,i._)("img",{class:"get-friends-link-img",src:e.photo_50,alt:""},null,8,u),(0,i._)("p",g,(0,r.zw)(e.first_name),1),(0,i._)("p",m,(0,r.zw)(e.last_name),1)]),(0,i._)("div",p,[(0,i._)("button",{onClick:s=>e.isAdd=!0,class:"btn btn1"},"Добавить",8,w),e.isAdd?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:s=>e.isAdd=!1,class:"btn btn2"},"Удалить",8,k)):(0,i.kq)("",!0)])])))),128))])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),h.get_friend?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(y,{key:1,list_friends:e.new_list_friends,onGet_friend:s[4]||(s[4]=e=>h.get_friend=e)},null,8,["list_friends"]))])}var b=n(4870);const v={class:"d-flex justify-content-center align-items-center"},y={class:"get-friends-items"},F=["onClick"],C={class:"d-flex justify-content-center align-items-center"},D=["src"],A={class:"mb-0 me-2"},L={class:"mb-0"};function H(e,s,n,t,l,d){return(0,i.wg)(),(0,i.iD)("div",v,[(0,i._)("button",{onClick:s[0]||(s[0]=(...e)=>d.goBack&&d.goBack(...e)),class:"btn-list btn btn-primary"},"Назад"),(0,i._)("ul",y,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.list_friends,((e,s)=>((0,i.wg)(),(0,i.iD)("li",{onClick:s=>d.openVkFriend(e.id),class:"get-friends-link",key:s},[(0,i._)("div",C,[(0,i._)("img",{class:"get-friends-link-img",src:e.photo_50,alt:""},null,8,D),(0,i._)("p",A,(0,r.zw)(e.first_name),1),(0,i._)("p",L,(0,r.zw)(e.last_name),1)])],8,F)))),128))])])}n(7658);var I={props:{list_friends:Array},data(){return{list_friend:this.list_friends}},mounted(){console.log(this.list_friends)},methods:{async getGeneralFriend(){self=this,await VK.Api.call("friends.get",{user_ids:6492,fields:"photo_50",v:this.v},(function(e){e.response&&(self.friends=e.response.items,self.new_friends=e.response.items,localStorage.setItem("r",e.response))}))},async openVkFriend(){await this.$router.push("/friend-info")},goBack(){this.$emit("get_friend",!0)}}},V=n(89);const j=(0,V.Z)(I,[["render",H]]);var x=j,K={components:{ListFriends:x},setup(){return{AppID:"51773806",v:"5.154",friends:(0,b.iH)([]),new_friends:(0,b.iH)([]),select_friends:(0,b.iH)(""),new_list_friend:(0,b.iH)([]),get_friend:(0,b.iH)(!0)}},beforeMount(){this.init()},methods:{buildNewListFriends(){this.new_list_friends=this.new_friends.filter((e=>!0===e.isAdd?e:"")),console.log(this.new_list_friends),this.get_friend=!1},newFriends(){const e=this.select_friends.toLowerCase();this.new_friends=this.friends.filter((s=>{const n=s.first_name.toLowerCase(),i=s.last_name.toLowerCase();return s?n.startsWith(e)||i.startsWith(e):""}))},async init(){await VK.init({apiId:this.AppID})},async getFriend(){self=this,await VK.Api.call("friends.get",{user_ids:6492,fields:"photo_50",v:this.v},(function(e){e.response&&(self.friends=e.response.items,self.new_friends=e.response.items,localStorage.setItem("r",e.response))}))}}};const q=(0,V.Z)(K,[["render",h]]);var z=q},3411:function(e,s,n){n.r(s),n.d(s,{default:function(){return a}});var i=n(3396);const t={class:"home"};function r(e,s,n,r,l,d){const o=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",t,[(0,i.Wm)(o)])}var l=n(2612),d={components:{GetFriends:l["default"]}},o=n(89);const c=(0,o.Z)(d,[["render",r]]);var a=c}}]);
//# sourceMappingURL=411.1cc3750e.js.map